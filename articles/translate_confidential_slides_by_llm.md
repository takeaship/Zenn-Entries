---
title: "社外秘のスライドを Amazon Bedrock の Claude で韓国語に翻訳させた話"
emoji: "🔀"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["aws", "bedrock", "llm", "claude", "ai"]
published: false
---

これは [LAPRAS Advent Calendar 2024](https://qiita.com/advent-calendar/2024/lapras) 4日目の投稿です。

スタートアップ企業で経営企画を務めるオジマさんに、ある日突然重厚なタスクが降ってきました。
韓国籍のパートナー企業に自社の戦略をより深く知ってもらうため、社外秘の会社紹介資料の韓国語版を作成するように言われたのです。
資料は30ページ以上あり、Google翻訳で文章をちまちま翻訳していたら日が暮れそうです。
困ったオジマさんは、全社になんでも質問できるチャンネルで助けを求めました。

> @翻訳作業が日本一得意な方
> お疲れ様です！
> 日本語のスライド(社外秘)を全部韓国語に変換したいのですが、
> こんなツールを使えば楽だよ！とか
> こういう方法を使えば効率的だよ！とか
> アイディアがあればご教授いただきたいです。

このスタートアップ企業とは、私が所属するLAPRAS社のことです。
本エントリでは、オジマさんの質問を見た私が限られた時間の中でどうAIによる翻訳を行い、どのくらい使える結果が得られたかを記していきます。


## Summary
- Amazon Bedrock の Claude を呼び出すプログラムを書いて、社外秘な資料から文章を抜き出し翻訳する作業をある程度自動化できた
- PDFの各ページを画像に変換し、文章を抜き出すプロンプトと抜き出した文章を翻訳するプロンプトを別々に発行することで精度を高められた
- 出力された文章には一部不適切な訳やハルシネーションが含まれたので、韓国語ネイティブの社員に校正してもらうことで社外に出せる品質になった
- スライド上の文章を翻訳文に置き換える作業ではまだ人手が必要

## 機密情報を、本業タスクも抱えている中の片手間で翻訳せよ

今回の制約条件は次の2つです。

1. 社外秘の情報を扱うため、使用できるツールが限られる
1. 翻訳作業は本業タスクも抱えている片手間で行う

私は普段C向けのプロダクト開発をしており、毎週ユーザーに新機能を届けるために今週もたくさんの Issue を抱えています。
人助けは大事ですが、使える時間はせいぜい数時間です。利用実績のないツールを調べながら使っている余裕はありません。

今までに使ったことがあり、機密情報を与えても問題ないツール…社内向けにR&Dチームが用意してくれた Amazon Bedrock が思い浮かびました。
以前 Bedrock のAPIを叩いたスクリプトが手元にあります。こいつを改造すれば、数時間でとりあえずの出力は作れそうだ。そう考え、助けになりますよと名乗り出ました。

## なぜ Amazon Bedrock を使うのか

LAPRAS では、ユーザーに提供する機能や社内ツール等を開発するときに使えるLLM基盤として、Amazon Bedrockを使っています。
Bedrockには機密情報を与えてもリスクが十分低いと判断するに足る次の特徴があります。
今回は社外秘の資料を翻訳させたかったため、これらの特徴が必要でした。

1. IAMロールを使用したエンタープライズ基準の認証
2. 入力情報は学習に利用されず、第三者にも渡されない[^1]
3. 入力データは不正利用防止のため機械によりレビューされるが、人によるレビューは行われない[^2]

特に3つめの特徴が、他の企業向けLLM基盤と比較して優れています。

例えば ChatGPT API / Enterprise や Azure OpenAI Service は1, 2を満たしますが、3に関しては限定された人によるレビューが行われることがあるようです[^3][^4]。
（リスクは相対的に上がりますが、十分低い範囲とは考えられるので、避けるべきとまでは思いません。）

個人向け ChatGPT や Claude 等のチャット画面に機密情報を入力するのは、当然避けるべきです。

## 



[^1]: https://docs.aws.amazon.com/bedrock/latest/userguide/data-protection.html
[^2]: https://docs.aws.amazon.com/bedrock/latest/userguide/abuse-detection.html
[^3]: https://openai.com/enterprise-privacy/
[^4]: https://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy#preventing-abuse-and-harmful-content-generation
